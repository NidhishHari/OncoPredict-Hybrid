<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OncoPredict Hybrid | AI Cancer Risk Assessment</title>
    <link rel="stylesheet" href="style.css">
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
</head>

<body>
    <!-- Hidden Report Template for PDF Generation -->
    <div id="pdf-report"
        style="display: none; padding: 40px; font-family: 'Helvetica', sans-serif; color: #000; background: #fff;">
        <div style="border-bottom: 2px solid #333; padding-bottom: 20px; margin-bottom: 30px;">
            <h1 style="color: #2c3e50; margin: 0;">OncoPredict Hybrid</h1>
            <p style="color: #7f8c8d; margin: 5px 0 0;">Clinical Assessment Report</p>
        </div>

        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 30px;">
            <div>
                <h3 style="color: #34495e; border-bottom: 1px solid #eee; padding-bottom: 10px;">Patient Information
                </h3>
                <p><strong>ID:</strong> <span id="pdf-id"></span></p>
                <p><strong>Age:</strong> <span id="pdf-age"></span></p>
                <p><strong>Cancer Type:</strong> <span id="pdf-type"></span></p>
                <p><strong>Stage:</strong> <span id="pdf-stage"></span></p>
            </div>
            <div>
                <h3 style="color: #34495e; border-bottom: 1px solid #eee; padding-bottom: 10px;">Assessment Summary</h3>
                <p><strong>Date:</strong> <span id="pdf-date"></span></p>
                <p><strong>Report ID:</strong> <span id="pdf-report-id"></span></p>
                <p><strong>Risk Level:</strong> <span id="pdf-risk" style="font-weight: bold;"></span></p>
                <p><strong>Probability:</strong> <span id="pdf-score"></span></p>
            </div>
        </div>

        <div style="margin-bottom: 30px;">
            <h3 style="color: #34495e; background: #f8f9fa; padding: 10px;">Analysis Summary</h3>
            <p id="pdf-analysis" style="line-height: 1.6;"></p>
        </div>

        <div style="margin-bottom: 30px;">
            <h3 style="color: #34495e; background: #f8f9fa; padding: 10px;">Biomarker Valuation & Risk Factors</h3>
            <div id="pdf-valuation" style="line-height: 1.6;"></div>
        </div>

        <div style="margin-bottom: 30px;">
            <h3 style="color: #34495e; background: #f8f9fa; padding: 10px;">Suggested Targeted Therapies</h3>
            <p style="color: #7f8c8d; font-size: 0.9em;">Based on detected biomarkers (e.g., HER2, EGFR, BRCA)</p>
            <div id="pdf-drugs" style="display: flex; gap: 10px; flex-wrap: wrap; margin-top: 10px;"></div>
        </div>

        <div style="margin-bottom: 30px;">
            <h3 style="color: #34495e; background: #f8f9fa; padding: 10px;">Clinical Recommendations</h3>
            <ul id="pdf-recommendations" style="line-height: 1.6;"></ul>
        </div>

        <div
            style="margin-top: 50px; font-size: 0.8rem; color: #7f8c8d; border-top: 1px solid #ddd; padding-top: 20px;">
            <p><strong>Disclaimer:</strong> This report is generated by an AI assistant for investigational use only. It
                does not constitute a definitive medical diagnosis and should be verified by a qualified oncologist.</p>
        </div>
    </div>

    <div class="app-container">
        <!-- Sidebar Navigation (Progress) -->
        <aside class="sidebar">
            <div class="brand">
                <i class="fa-solid fa-dna"></i> OncoPredict
            </div>
            <nav class="nav-menu">
                <div class="nav-item active" id="nav-step-1">
                    <i class="fa-solid fa-user-doctor"></i> Patient Information
                </div>
                <div class="nav-item disabled" id="nav-step-2">
                    <i class="fa-solid fa-microscope"></i> Biomarker Entry
                </div>
                <div class="nav-item disabled" id="nav-step-3">
                    <i class="fa-solid fa-chart-pie"></i> Risk Prediction
                </div>
                <div class="nav-item disabled" id="nav-step-4">
                    <i class="fa-solid fa-user-md"></i> Treatment Plan
                </div>
                <div class="nav-item disabled" id="nav-step-5">
                    <i class="fa-solid fa-file-invoice"></i> Final Report
                </div>
            </nav>

            <div class="sidebar-footer">
                <div class="status-item">
                    <i class="fa-solid fa-server"></i>
                    <span>Model: OncoPredict v1.2</span>
                </div>
                <div class="status-item">
                    <i class="fa-solid fa-database"></i>
                    <span>Dataset: OSCC-HNSCC</span>
                </div>
                <div class="status-item">
                    <i class="fa-solid fa-clock-rotate-left"></i>
                    <span>Updated: Feb 08, 2026</span>
                </div>
            </div>
        </aside>

        <!-- Main Content Area -->
        <main class="main-content">
            <header class="top-bar">
                <nav class="top-nav">
                    <a href="#" class="nav-link active">Dashboard</a>
                    <a href="#" class="nav-link" id="nav-new-assessment">New Assessment</a>
                    <a href="#" class="nav-link">Reports</a>
                    <a href="#" class="nav-link">About</a>
                    <a href="#" class="nav-link">Help</a>
                </nav>
                <div class="user-profile">
                    <div style="text-align: right; margin-right: 10px;">
                        <div style="color: var(--text-main); font-weight: 600; font-size: 0.95rem;">Nidhish</div>
                        <div style="color: var(--text-muted); font-size: 0.75rem; margin-top: 2px;">Bio Web Developer
                        </div>
                        <div style="color: var(--accent); font-size: 0.7rem; margin-top: 1px; font-style: italic;">
                            Building the future of healthcare ðŸ§¬</div>
                    </div>
                    <i class="fa-solid fa-user-circle" style="font-size: 1.8rem; color: var(--primary);"></i>
                </div>
            </header>

            <header style="margin-bottom: 2rem;">
                <h2 id="page-title">Patient Health Overview</h2>
            </header>

            <!-- Step 1: Patient Information -->
            <section id="step-1" class="view-section active fade-in">
                <div class="glass-panel form-panel">
                    <h3><i class="fa-solid fa-1"></i> Patient Information</h3>
                    <form id="form-step-1">
                        <div class="form-grid">
                            <div class="input-group">
                                <label for="patient-id">Patient ID</label>
                                <input type="text" id="patient-id" placeholder="e.g., P001" required>
                            </div>
                            <div class="input-group">
                                <label for="patient-age">Age</label>
                                <input type="number" id="patient-age" placeholder="e.g., 52" required>
                            </div>
                            <div class="input-group">
                                <label for="cancer-type">Cancer Type</label>
                                <select id="cancer-type" required>
                                    <option value="" disabled selected>Select Type</option>
                                    <option value="Oral Carcinoma">Oral Carcinoma</option>
                                    <option value="Breast Cancer">Breast Cancer</option>
                                    <option value="Lung Cancer">Lung Cancer</option>
                                    <option value="Colorectal Cancer">Colorectal Cancer</option>
                                    <option value="Other">Other</option>
                                </select>
                            </div>
                            <div class="input-group">
                                <label for="cancer-stage">Stage</label>
                                <select id="cancer-stage" required>
                                    <option value="" disabled selected>Select Stage</option>
                                    <option value="I">Stage I</option>
                                    <option value="II">Stage II</option>
                                    <option value="III">Stage III</option>
                                    <option value="IV">Stage IV</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-actions" style="justify-content: space-between;">
                            <button type="button" id="btn-demo-patient" class="btn btn-outline"
                                style="font-size: 0.9rem;">
                                <i class="fa-solid fa-user-plus"></i> Load Demo Patient
                            </button>
                            <button type="button" id="btn-to-step-2" class="btn btn-primary">
                                Next: Biomarkers <i class="fa-solid fa-arrow-right"></i>
                            </button>
                        </div>
                    </form>
                </div>
            </section>

            <!-- Step 2: Biomarker Entry -->
            <section id="step-2" class="view-section" style="display: none;">
                <div class="glass-panel form-panel">
                    <div
                        style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                        <h3><i class="fa-solid fa-microscope"></i> Biomarker Data</h3>
                        <button type="button" id="btn-autofill" class="btn btn-outline"
                            style="font-size: 0.85rem; padding: 0.4rem 0.8rem;">
                            <i class="fa-solid fa-magic-wand-sparkles"></i> Auto-fill Sample
                        </button>
                    </div>

                    <div class="form-grid">
                        <!-- Genetic Mutations -->
                        <div class="input-group">
                            <label for="bio-tp53">
                                TP53 Mutation Status
                                <i class="fa-solid fa-circle-info tooltip-icon"
                                    data-tooltip="Tumor suppressor gene. Mutation often leads to uncontrolled cell growth."></i>
                            </label>
                            <select id="bio-tp53">
                                <option value="" selected>Unknown / Not Tested</option>
                                <option value="Wild-type">Wild-type (Normal)</option>
                                <option value="Mutated">Mutated (High Risk)</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <label for="bio-egfr">
                                EGFR Expression
                                <i class="fa-solid fa-circle-info tooltip-icon"
                                    data-tooltip="Protein on cell surface. Overexpression linked to aggressive tumor growth."></i>
                            </label>
                            <select id="bio-egfr">
                                <option value="" selected>Unknown / Not Tested</option>
                                <option value="Normal">Normal</option>
                                <option value="Overexpression">Overexpression</option>
                                <option value="Mutation Positive">L858R / Exon 19 Del</option>
                            </select>
                        </div>
                        <div class="input-group">
                            <label for="bio-p16">
                                p16 Status
                                <i class="fa-solid fa-circle-info tooltip-icon"
                                    data-tooltip="Tumor suppressor. High levels often linked to HPV infection."></i>
                            </label>
                            <select id="bio-p16">
                                <option value="" selected>Unknown / Not Tested</option>
                                <option value="Negative">Negative</option>
                                <option value="Positive">Positive (Link to HPV)</option>
                            </select>
                        </div>

                        <!-- Quantitative Markers -->
                        <div class="input-group">
                            <label for="bio-ki67">
                                Ki-67 Index (%)
                                <i class="fa-solid fa-circle-info tooltip-icon"
                                    data-tooltip="Marker of cell proliferation. Higher % means faster tumor growth."></i>
                            </label>
                            <input type="number" id="bio-ki67" placeholder="0 - 100" min="0" max="100">
                        </div>
                        <div class="input-group">
                            <label for="bio-cyclin">
                                Cyclin D1 Score
                                <i class="fa-solid fa-circle-info tooltip-icon"
                                    data-tooltip="Regulates cell cycle. Amplification drives cancer progression."></i>
                            </label>
                            <input type="number" id="bio-cyclin" placeholder="e.g. 1.5">
                        </div>
                        <div class="input-group">
                            <label for="bio-mmp9">
                                MMP-9 Level (ng/mL)
                                <i class="fa-solid fa-circle-info tooltip-icon"
                                    data-tooltip="Enzyme involved in tissue remodeling. High levels aid metastasis."></i>
                            </label>
                            <input type="number" id="bio-mmp9" placeholder="e.g. 450">
                        </div>
                        <div class="input-group">
                            <label for="bio-vegf">
                                VEGF Level (pg/mL)
                                <i class="fa-solid fa-circle-info tooltip-icon"
                                    data-tooltip="Signal protein. Stimulates formation of new blood vessels."></i>
                            </label>
                            <input type="number" id="bio-vegf" placeholder="e.g. 200">
                        </div>
                        <div class="input-group">
                            <label for="bio-her2">
                                HER2 Status
                                <i class="fa-solid fa-circle-info tooltip-icon"
                                    data-tooltip="Growth-promoting protein. Amplification requires targeted therapy."></i>
                            </label>
                            <select id="bio-her2">
                                <option value="" selected>Not Applicable</option>
                                <option value="Negative">Negative (0/1+)</option>
                                <option value="Equivocal">Equivocal (2+)</option>
                                <option value="Positive">Positive (3+)</option>
                            </select>
                        </div>
                    </div>

                    <div class="input-group full-width">
                        <label for="data-content">Additional Clinical Notes</label>
                        <textarea id="data-content" rows="4"
                            placeholder="Enter any other relevant genetic sequencing data or patient history..."></textarea>
                    </div>

                    <div class="form-actions" style="justify-content: space-between; margin-top: 1.5rem;">
                        <button type="button" id="btn-back-step-1" class="btn btn-outline">
                            <i class="fa-solid fa-arrow-left"></i> Back
                        </button>
                        <button type="button" id="btn-analyze" class="btn btn-primary">
                            <span>Analyze Risk</span>
                            <div class="loader"></div>
                        </button>
                    </div>
                </div>
            </section>

            <!-- Step 3: Risk Prediction Dashboard -->
            <section id="step-3" class="view-section" style="display: none;">
                <div class="dashboard-grid">
                    <!-- Top Row: Result & Chart -->
                    <div class="glass-card prediction-card"
                        style="grid-column: 1 / 2; display: flex; flex-direction: column; justify-content: center; text-align: center; min-height: 350px;">
                        <div class="card-header">AI Risk Assessment</div>
                        <div class="card-body">
                            <div style="margin-bottom: 0.5rem;"><span class="label">Total Risk Score</span></div>
                            <div style="margin-bottom: 1.5rem;">
                                <span id="res-score" class="score-text"
                                    style="font-size: 3.5rem; text-shadow: 0 0 20px rgba(59, 130, 246, 0.5);">--%</span>
                            </div>
                            <div style="margin-bottom: 1rem;"><span id="res-risk-badge" class="badge"
                                    style="font-size: 1.2rem; padding: 0.5rem 1.5rem;">--</span></div>
                            <p class="disclaimer">Confidence: High (94.2%) based on hybrid analysis.</p>
                        </div>
                    </div>

                    <div class="glass-card" style="grid-column: 2 / 3;">
                        <div class="card-header">Biomarker Contribution Analysis</div>
                        <div class="card-body">
                            <p style="font-size: 0.9rem; color: #94a3b8; margin-bottom: 1rem;">Primary drivers
                                influencing the risk score:</p>
                            <div id="risk-factors-chart" style="display: flex; flex-direction: column; gap: 1rem;">
                                <!-- Dynamic Bars -->
                            </div>
                        </div>
                    </div>

                    <!-- Bottom Row: Drugs & Summary -->
                    <div class="glass-card" style="grid-column: 1 / 3;">
                        <div class="card-header"><i class="fa-solid fa-pills"></i> Suggested Targeted Therapies</div>
                        <div class="card-body">
                            <div id="drug-options-list" style="display: flex; flex-wrap: wrap; gap: 1rem;">
                                <!-- Dynamic Badges -->
                            </div>
                            <p class="disclaimer" style="margin-top: 1rem;">
                                *Therapies listed are based on biomarker matches (e.g., HER2+ -> Trastuzumab). Always
                                consult a specialist.
                            </p>
                        </div>
                    </div>

                </div>

                <div class="form-actions" style="justify-content: flex-end; margin-top: 2rem;">
                    <button type="button" id="btn-to-step-4" class="btn btn-primary">
                        View Detailed Treatment Plan <i class="fa-solid fa-arrow-right"></i>
                    </button>
                </div>
            </section>

            <!-- Step 4: Treatment Suggestions -->
            <section id="step-4" class="view-section" style="display: none;">
                <div class="dashboard-grid">
                    <!-- Biomarker Interpretation -->
                    <div class="glass-card interpretation-card" style="grid-column: 1 / -1;">
                        <div class="card-header">Detailed Analysis & Biomarkers</div>
                        <div class="card-body">
                            <div id="biomarker-content" class="text-content">
                                <!-- Dynamic Content -->
                            </div>
                        </div>
                    </div>

                    <!-- Recommended Actions -->
                    <div class="glass-card explanation-card" style="grid-column: 1 / -1;">
                        <div class="card-header">Recommended Treatment Plan</div>
                        <div class="card-body">
                            <ul id="res-implications" class="bullet-list">
                                <!-- Dynamic List -->
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="form-actions" style="margin-top: 1.5rem; justify-content: space-between;">
                    <button type="button" id="btn-back-step-3" class="btn btn-outline">
                        <i class="fa-solid fa-arrow-left"></i> Back to Prediction
                    </button>
                    <button type="button" id="btn-to-step-5" class="btn btn-primary">
                        Proceed to Report <i class="fa-solid fa-arrow-right"></i>
                    </button>
                </div>
            </section>

            <!-- Step 5: Download Report -->
            <section id="step-5" class="view-section" style="display: none;">
                <div class="glass-panel"
                    style="text-align: center; max-width: 600px; margin: 2rem auto; padding: 3rem;">
                    <i class="fa-solid fa-check-circle"
                        style="font-size: 4rem; color: var(--primary); margin-bottom: 1.5rem;"></i>
                    <h3>Assessment Complete</h3>
                    <p style="color: var(--text-muted); margin-bottom: 2rem;">The clinical assessment has been
                        successfully generated and reviewed.</p>

                    <div class="action-bar" style="justify-content: center; flex-direction: column; gap: 1rem;">
                        <button id="download-btn" class="btn btn-outline" style="width: 100%; justify-content: center;">
                            <i class="fa-solid fa-download"></i> Download Official PDF Report
                        </button>
                        <a href="https://www.dcodecare.com/doctors" target="_blank" class="btn btn-primary"
                            style="width: 100%; justify-content: center; text-decoration: none;">
                            <i class="fa-solid fa-user-doctor"></i> Discuss with Specialist
                        </a>
                    </div>

                    <div style="margin-top: 2rem;">
                        <button type="button" id="btn-restart" class="btn"
                            style="color: var(--text-muted); font-size: 0.9rem;">
                            <i class="fa-solid fa-rotate-right"></i> Start New Assessment
                        </button>
                    </div>
                </div>
            </section>

            <footer
                style="margin-top: 3rem; padding: 2rem; border-top: 1px solid var(--border-color); text-align: center; color: var(--text-muted); font-size: 0.9rem;">
                <p style="margin-bottom: 0.5rem; font-weight: 600; color: #fff;">OncoPredict</p>
                <p style="margin-bottom: 0.3rem;">Developed by: <span style="color: var(--primary);">Nidhish P
                        Hari</span></p>
                <p style="margin-bottom: 0.3rem;">Institution: KIT COLLEGE, CBE</p>
                <p style="margin-bottom: 0.8rem;">Contact: +91 8089032447</p>
                <div>
                    <a href="https://github.com/nidhishphari" target="_blank"
                        style="color: var(--text-muted); text-decoration: none; transition: color 0.2s;">
                        <i class="fa-brands fa-github" style="font-size: 1.2rem;"></i> GitHub Repository
                    </a>
                </div>
            </footer>
        </main>
    </div>

    <div class="video-background">
        <div class="video-foreground">
            <iframe
                src="https://www.youtube.com/embed/eTD0WWFIDAg?controls=0&showinfo=0&rel=0&autoplay=1&loop=1&mute=1&playlist=eTD0WWFIDAg&start=4"
                frameborder="0" allowfullscreen></iframe>
        </div>
        <div class="video-overlay"></div>
    </div>
    <script src="script.js"></script>
</body>

</html>